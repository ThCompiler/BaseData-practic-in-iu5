//! @file
//! \brief Реализация средств парсинга типов в строку и из строки
//===========================================================================================================

#pragma once
#include <string>
#include <ostream>
#include <variant>


namespace DB    /// пространство имён классов и функция для задания
{
//===============================================================================================================
//! \brief Доступные типы хранения данных в таблицы
//---------------------------------------------------------------------------------------------------------------

    enum class parsing_type 
    {
        NoType,     ///< Неопределённый тип
        UInt8,      ///< uint8_t
        UInt16,     ///< uint16_t
        Int32,      ///< int
        Long,       ///< long
        LLong,      ///< long long
        UInt,       ///< unsigned int
        ULong,      ///< unsigned long
        ULLong,     ///< unsigned long long
        Float,      ///< float
        Double,     ///< double
        LDouble,    ///< long double
        String,     ///< std::string
        Date        ///< DB::Time
    };

//===============================================================================================================
//! \class Parseable 
//! \brief Интерфейс для новых классов для парса данного класса
//---------------------------------------------------------------------------------------------------------------  

    class Parseable 
    {
    public:

    //-----------------------------------------------------------------------------------------------------------
    //! \brief Прасинг типа их строки
    //!
    //! \param str          строка
    //!
    //! \return false если парсинг не возможен
    //-----------------------------------------------------------------------------------------------------------  

        virtual bool operator<<(const std::string& str) = 0;
    
    //-----------------------------------------------------------------------------------------------------------
    //! \brief Парсинг типа в строку
    //!
    //! \param str          строка
    //!
    //! \return false если парсинг не возможен
    //-----------------------------------------------------------------------------------------------------------

        virtual bool operator>>(std::string& str) const = 0;
    };

//===========================================================================================================
//! \brief Парсинг типов хранения данных из строки
//-----------------------------------------------------------------------------------------------------------

    void operator<<(parsing_type& type, const std::string& str);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг uint8_t из строки
//-----------------------------------------------------------------------------------------------------------

    bool operator<<(uint8_t& a,             const std::string& str);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг uint16_t из строки
//-----------------------------------------------------------------------------------------------------------

    bool operator<<(uint16_t& a,            const std::string& str);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг int из строки
//-----------------------------------------------------------------------------------------------------------

    bool operator<<(int& a,                 const std::string& str);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг long из строки
//-----------------------------------------------------------------------------------------------------------

    bool operator<<(long& a,                const std::string& str);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг long long из строки
//-----------------------------------------------------------------------------------------------------------

    bool operator<<(long long& a,           const std::string& str);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг unsigned int из строки
//-----------------------------------------------------------------------------------------------------------

    bool operator<<(unsigned int& a,        const std::string& str);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг unsigned long из строки
//-----------------------------------------------------------------------------------------------------------

    bool operator<<(unsigned long& a,       const std::string& str);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг unsigned long long из строки
//-----------------------------------------------------------------------------------------------------------

    bool operator<<(unsigned long long& a,  const std::string& str);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг double из строки
//-----------------------------------------------------------------------------------------------------------

    bool operator<<(double& a,              const std::string& str);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг long double из строки
//-----------------------------------------------------------------------------------------------------------

    bool operator<<(long double& a,         const std::string& str);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг float из строки
//-----------------------------------------------------------------------------------------------------------

    bool operator<<(float& a,               const std::string& str);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг uint8_t в строки
//-----------------------------------------------------------------------------------------------------------

    bool operator>>(const uint8_t& a,               std::string& str);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг uint16_t в строки
//-----------------------------------------------------------------------------------------------------------

    bool operator>>(const uint16_t& a,              std::string& str);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг int в строки
//-----------------------------------------------------------------------------------------------------------

    bool operator>>(const int& a,                   std::string& str);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг long в строки
//-----------------------------------------------------------------------------------------------------------

    bool operator>>(const long& a,                  std::string& str);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг long long в строки
//-----------------------------------------------------------------------------------------------------------

    bool operator>>(const long long& a,             std::string& str);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг unsigned int в строки
//-----------------------------------------------------------------------------------------------------------

    bool operator>>(const unsigned int& a,          std::string& str);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг unsigned long в строки
//-----------------------------------------------------------------------------------------------------------

    bool operator>>(const unsigned long& a,         std::string& str);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг unsigned long long в строки
//-----------------------------------------------------------------------------------------------------------

    bool operator>>(const unsigned long long& a,    std::string& str);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг double в строки
//-----------------------------------------------------------------------------------------------------------

    bool operator>>(const double& a,                std::string& str);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг long double в строки
//-----------------------------------------------------------------------------------------------------------

    bool operator>>(const long double& a,           std::string& str);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг float в строки
//-----------------------------------------------------------------------------------------------------------

    bool operator>>(const float& a,                 std::string& str);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг uint8_t в строки
//-----------------------------------------------------------------------------------------------------------

    std::string to_string(const uint8_t& a);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг uint16_t в строки
//-----------------------------------------------------------------------------------------------------------

    std::string to_string(const uint16_t& a);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг int в строки
//-----------------------------------------------------------------------------------------------------------

    std::string to_string(const int& a);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг long в строки
//-----------------------------------------------------------------------------------------------------------

    std::string to_string(const long& a);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг long long в строки
//-----------------------------------------------------------------------------------------------------------

    std::string to_string(const long long& a);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг unsigned int в строки
//-----------------------------------------------------------------------------------------------------------

    std::string to_string(const unsigned int& a);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг unsigned long в строки
//-----------------------------------------------------------------------------------------------------------

    std::string to_string(const unsigned long& a);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг unsigned long long в строки
//-----------------------------------------------------------------------------------------------------------

    std::string to_string(const unsigned long long& a);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг double в строки
//-----------------------------------------------------------------------------------------------------------

    std::string to_string(const double& a);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг long double в строки
//-----------------------------------------------------------------------------------------------------------

    std::string to_string(const long double& a);

//-----------------------------------------------------------------------------------------------------------
//! \brief Парсинг float в строки
//-----------------------------------------------------------------------------------------------------------

    std::string to_string(const float& a);

//-----------------------------------------------------------------------------------------------------------
//! \brief Выввод на экран типов хранения
//-----------------------------------------------------------------------------------------------------------

    std::ostream& operator<<(std::ostream& out, const parsing_type& type);
}